var mediaqueryPC=window.matchMedia("(min-width: 769px)");function buildSlugValue(e){e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var o="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",a=0,t=o.length;a<t;a++)e=e.replace(new RegExp(o.charAt(a),"g"),"aaaaaeeeeeiiiiooooouuuunc------".charAt(a));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}$(document).ready(function(){$(".modal").modal(),$(".addHome").click(function(){$(".addHomeScreen").removeClass("hide"),$("body").css("overflow","hidden")}),$(".cerrarHomeScreen").click(function(){$(".addHomeScreen").addClass("hide"),$("body").css("overflow","auto")}),$("#cart_details").load(base_url+"productos/load"),$(".verCarrito").click(function(){var e=window.location.href.replace(/\//g,"_"),o=$(this).attr("href");$(this).attr("href",o+"/"+e)});var e=!1;$(".footerSecundario .collapsible-header").click(function(){0==e?($(".footerSecundario .iconSide").text("expand_less"),$(".footerSecundario .sideB").slideUp(500),e=!0):1==e&&($(".footerSecundario .iconSide").text("expand_more"),$(".footerSecundario .sideB").slideDown(200),e=!1)}),$(".redirigirHome").click(function(){location.href="https://pormayor.pe"}),$(".buscador").keypress(function(e){var o=$(this).val();13==e.which&&""!=o&&(window.location.href=base_url+"productos/search/"+o)}),$(".inicioBtn").click(function(e){$("html, body").animate({scrollTop:$(this.hash).offset().top-100},2e3,function(){$(this).focus()})}),$(".checkVarFilter").click(function(){var e=$(this).val();$(".containerListProd").slideUp(500,function(){$("#listProducto").load(base_url+"productos/filtro_producto_variacion",{idVariacion:e}),$(".containerListProd").slideDown(1e3)})}),$(".cerrarSesionBtn").click(function(){$.confirm({icon:"power_settings_new",theme:"modern",closeIcon:!1,animation:"scale",type:"red",title:"Cerrar Sesión",columnClass:"small",content:"Las ofertas te estarán esperando",draggable:!1,buttons:{Cerrar:{btnClass:"btn pormayorUnico",action:function(){location.href=base_url+"index/cerrar_sesion"}},Cancelar:{}}})}),$(".submenu").mouseover(function(){$(".overlayBody").removeClass("hide")}),$(".submenu").mouseout(function(){$(".overlayBody").addClass("hide")}),$(".categoriaBtn").mouseover(function(){var e,o=$(this).data("idcateg");$(".bannerVertical").each(function(){$(this).addClass("hide")}),$(".bannerCat"+o).removeClass("hide"),$(".subcategoria").each(function(){(e=$(this)).data("menu")==o?e.removeClass("hide"):e.addClass("hide")}),20==o&&$(".defaultBanner").removeClass("hide")}),$(".tiendaInicio").click(function(){location.href=base_url}),$(".dropdown-button").dropdown({inDuration:300,outDuration:225,constrainWidth:!1,hover:!0,gutter:0,belowOrigin:!0}),$(".dropdown-trigger").dropdown({inDuration:300,outDuration:225,constrainWidth:!1,hover:!0,gutter:0,belowOrigin:!0}),$(".button-collapse").sideNav({menuWidth:330,edge:"left"}),$(".slider").slider({indicators:!1,height:300}),$(".button-collapse").sideNav(),setTimeout(function(){Number($(".carroContent > div").length)>0&&($("div.cartAnimacion > span").addClass("counter"),$("span.counterCont > span").text($(".carroContent  > div").length))},200)}),$(".notiBtn").click(function(){$(".button-collapse").sideNav("hide"),$("#notiContainer").modal("open")}),$(window).on("load",function(){new Blazy({loadInvisible:!0,offset:100});var e=parseInt($(".counterCont").attr("data-totalc"));0!=e&&(mediaqueryPC.matches?$("li.cartAnimacion > span").addClass("counter"):$("div.cartAnimacion > span").addClass("counter"),$("span.counterCont > span").text(e)),$(".subscribeBtn").click(function(){0!=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test($("#email_subs").val())?$.ajax({data:{Pub_Correo:$("#email_subs").val()},type:"POST",url:base_url+"usuario/subscripcion_correo",dataType:"json",success:function(e){$("#email_subs").val(" "),Materialize.toast("¡Suscripción Éxitosa!",2e3,"rounded green")}}):Materialize.toast('<i class="material-icons left">error</i>No ingresaste ningun correo válido',2e3,"rounded errorToast")}),$.get(base_url+"index/buscar_autocomplete",function(e){var o=JSON.parse(e);$("input.autocomplete").autocomplete({data:o,limit:5,minLength:1,onAutocomplete:function(e){$("input.autocomplete").trigger($.Event("keypress",{which:13}))}})})});